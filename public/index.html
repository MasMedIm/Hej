```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learn any language like a local</title>
    <meta
      name="description"
      content="Hej is an interactive voice app that helps you immersively learn any language, progressively and at your pace."
    />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
      /* Global Styles */
      html, body {
        margin: 0;
        padding: 0;
        background: #1e1e1e;
        font-family: 'Roboto', sans-serif;
        color: #fff;
        overflow: hidden;
      }
      /* Layout */
      .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
      }
      /* Logo */
      .logo {
        position: absolute;
        top: 1rem;
        left: 1rem;
        font-size: 1.5rem;
        font-weight: bold;
        text-transform: lowercase;
      }
      /* Orb */
      #orb {
        width: min(300px, 60vw);
        height: min(300px, 60vw);
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, rgba(96, 0, 255, 0.9) 0%, rgba(0, 102, 255, 0.8) 40%, rgba(255, 0, 128, 0.6) 100%);
        box-shadow: 0 0 40px 20px rgba(125, 0, 255, 0.4);
        position: relative;
        transform-origin: center center;
        will-change: transform, filter;
        transition: transform 0.2s ease;
      }
      #orb::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at 70% 70%, rgba(255, 0, 128, 0.45) 0%, rgba(0, 0, 0, 0) 60%);
        mix-blend-mode: screen;
        animation: morph 10s ease-in-out infinite;
      }
      @keyframes morph {
        0%, 100% {
          border-radius: 42% 58% 62% 38% / 60% 41% 59% 40%;
        }
        50% {
          border-radius: 57% 43% 41% 59% / 43% 60% 40% 57%;
        }
      }
      /* Controls */
      .controls {
        position: absolute;
        bottom: 4rem;
        display: flex;
        gap: 1rem;
      }
      .controls button {
        padding: 0.5rem 1rem;
        font-size: 1rem;
        background: rgba(255, 255, 255, 0.1);
        border: none;
        border-radius: 0.5rem;
        color: #fff;
        cursor: pointer;
        transition: background 0.2s;
      }
      .controls button:hover {
        background: rgba(255, 255, 255, 0.2);
      }
      .controls button.active {
        background: rgba(96, 0, 255, 0.5);
      }
      /* Footer */
      .footer {
        position: absolute;
        bottom: 1rem;
        display: flex;
        justify-content: center;
        gap: 2rem;
        font-size: 0.85rem;
        color: rgba(255, 255, 255, 0.6);
      }
      .footer a {
        color: inherit;
        text-decoration: none;
      }
      .footer a:hover {
        text-decoration: underline;
      }
      /* Page Header */
      .page-header {
        text-align: center;
        max-width: 80%;
      }
      .page-header h1 {
        margin: 0;
        font-size: 3rem;
        background: linear-gradient(60deg, #12c2e9 0%, #c471ed 50%, #f64f59 100%);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }
      .page-header p {
        margin: 0.5rem 0 0;
        font-size: 1.5rem;
        color: rgba(255, 255, 255, 0.8);
      }
      /* Navigation */
      .top-nav {
        position: absolute;
        top: 1rem;
        right: 1rem;
        display: flex;
        gap: 1.5rem;
        font-size: 0.9rem;
      }
      .top-nav a {
        color: inherit;
        text-decoration: none;
      }
      .top-nav a:hover {
        text-decoration: underline;
      }
      /* Responsive Adjustments */
      @media (max-width: 600px) {
        .page-header h1 {
          font-size: 2rem;
        }
        .page-header p {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="page-header">
        <h1>Speak Italian like a local</h1>
        <p>Hej is an interactive voice app that helps you immersively speak Italian progressively and at your pace.</p>
      </div>
      <div class="logo">hej</div>
      <nav class="top-nav">
        <a href="https://github.com/MasMedIm/Hej" target="_blank">GitHub</a>
      </nav>
      <div id="orb"></div>
      <div class="controls">
        <button id="mute">Mute</button>
        <button id="stop">Stop</button>
        <button id="subtitle">Subtitle</button>
      </div>
      <div class="subtitle-display" id="subtitleDisplay"></div>
    </div>
    <audio id="remoteAudio" autoplay hidden></audio>
    <script type="module">
      const orb = document.getElementById("orb");
      const remoteAudio = document.getElementById("remoteAudio");
      let pc;
      let startTime = Date.now();

      function trackUserInteraction(eventCategory, eventAction) {
        console.log(`Event: ${eventCategory} - ${eventAction}`);
      }

      async function startSession() {
        const { client_secret: { value: token } } = await fetch("/session").then((r) => r.json());
        pc = new RTCPeerConnection({
          iceServers: [{ urls: "stun:stun.l.google.com:19302" }],
        });
        pc.ontrack = (e) => {
          remoteAudio.srcObject = e.streams[0];
        };
        const dc = pc.createDataChannel("oai-events");
        dc.onmessage = (e) => {
          const message = JSON.parse(e.data);
          if (message.type === "response.done") {
            const transcript = message.response.output?.[0]?.content?.[0]?.transcript;
            if (transcript && document.getElementById("subtitle").classList.contains("active")) {
              document.getElementById("subtitleDisplay").textContent = transcript;
              document.getElementById("subtitleDisplay").style.display = "block";
            }
          }
        };
        const micStream = await navigator.mediaDevices.getUserMedia({ audio: true });
        pc.addTrack(micStream.getTracks()[0]);
        const offer = await pc.createOffer();
        await pc.setLocalDescription(offer);
        const resp = await fetch(`https://api.openai.com/v1/realtime?model=${encodeURIComponent("gpt-4o-realtime-preview-2024-12-17")}`, {
          method: "POST",
          headers: {
            Authorization: `Bearer ${token}`,
            "Content-Type": "application/sdp",
          },
          body: pc.localDescription.sdp,
        });
        const answerSdp = await resp.text();
        await pc.setRemoteDescription({ type: "answer", sdp: answerSdp });
      }

      remoteAudio.addEventListener("play", () => {
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const analyser = audioCtx.createAnalyser();
        analyser.fftSize = 512;
        const dataArr = new Uint8Array(analyser.frequencyBinCount);
        const srcNode = audioCtx.createMediaElementSource(remoteAudio);
        srcNode.connect(analyser);
        analyser.connect(audioCtx.destination);
        render();
      });

      function render() {
        analyser.getByteTimeDomainData(dataArr);
        let sum = 0;
        for (const v of dataArr) {
          const d = v - 128;
          sum += d * d;
        }
        const rms = Math.sqrt(sum / dataArr.length) / 128;
        orb.style.transform = `scale(${1 + rms * 0.6})`;
        orb.style.filter = `blur(${rms * 10}px)`;
        requestAnimationFrame(render);
      }

      document.getElementById("mute").onclick = () => {
        remoteAudio.muted = !remoteAudio.muted;
        document.getElementById("mute").textContent = remoteAudio.muted ? "Unmute" : "Mute";
        trackUserInteraction('button', remoteAudio.muted ? 'mute' : 'unmute');
      };
      document.getElementById("stop").onclick = () => {
        if (pc) pc.close();
        remoteAudio.srcObject = null;
        trackUserInteraction('button', 'stop');
      };
      document.getElementById("subtitle").onclick = () => {
        const subtitleBtn = document.getElementById("subtitle");
        subtitleBtn.classList.toggle("active");
        document.getElementById("subtitleDisplay").style.display = subtitleBtn.classList.contains("active") ? "block" : "none";
        trackUserInteraction('button', 'toggle subtitle');
      };

      window.addEventListener('scroll', () => {
        const scrollDepth = window.scrollY / (document.body.scrollHeight - window.innerHeight);
        trackUserInteraction('scroll', `depth: ${scrollDepth}`);
      });

      window.addEventListener('beforeunload', () => {
        const timeSpent = (Date.now() - startTime) / 1000;
        trackUserInteraction('page', `time spent: ${timeSpent} seconds`);
      });

      startSession();
    </script>
  
    <script>
      // User interaction tracking
      const analytics = {
        startTime: Date.now(),
        scrollDepth: 0,
        interactions: [],
        
        init() {
          // Track scroll depth
          window.addEventListener('scroll', () => {
            const scrollPercent = (window.scrollY + window.innerHeight) / document.documentElement.scrollHeight * 100;
            if (scrollPercent > this.scrollDepth) {
              this.scrollDepth = scrollPercent;
              this.logInteraction('scroll', { depth: scrollPercent });
            }
          });

          // Track button clicks
          document.querySelectorAll('button, a, [role="button"]').forEach(element => {
            element.addEventListener('click', (e) => {
              this.logInteraction('click', {
                element: element.tagName,
                text: element.textContent?.trim(),
                id: element.id,
                class: element.className
              });
            });
          });

          // Track form interactions
          document.querySelectorAll('form').forEach(form => {
            form.addEventListener('submit', (e) => {
              this.logInteraction('form_submit', {
                formId: form.id,
                formAction: form.action
              });
            });
          });

          // Track media interactions
          document.querySelectorAll('video, audio').forEach(media => {
            media.addEventListener('play', () => {
              this.logInteraction('media_play', {
                type: media.tagName,
                id: media.id
              });
            });
          });

          // Track time spent
          setInterval(() => {
            const timeSpent = (Date.now() - this.startTime) / 1000;
            this.logInteraction('time_spent', { seconds: timeSpent });
          }, 30000); // Log every 30 seconds
        },

        logInteraction(type, data) {
          this.interactions.push({
            type,
            data,
            timestamp: new Date().toISOString()
          });
          
          // Send to analytics endpoint
          fetch('/api/analytics', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              type,
              data,
              timestamp: new Date().toISOString()
            })
          }).catch(console.error);
        }
      };

      // Initialize analytics when DOM is loaded
      document.addEventListener('DOMContentLoaded', () => analytics.init());
    </script>
  
</body>
</html>
```